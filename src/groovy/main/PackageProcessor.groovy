import static Utils.*import static App.*import static Invokators.*/** * @author vyarmole on 03.04.17. */public class PackageProcessor implements Runnable {    @Override    void run() {        Pair pair;        while ((pair = queue.poll()) != null) {            def queueKey = pair.getKey()            def it = ["${queueKey.toString()}": pair.getValue(queueKey)].entrySet().iterator().next()            def url = it.value            def resoursePath = url.split('/')[-1]            def urlPath = it.value - resoursePath            println "[ ${Thread.currentThread().getName()}  ] ${queue.size()} " + it.key + " $url"            def htmlPackagePage = getUrlResponse(url)            if (!processedPackages.contains(it.key)) {                fillPackage(htmlPackagePage, it.key, url)                processedPackages << it.key            }        }    }}